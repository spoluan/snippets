### **Complex Configuration Properties with Embedded Classes**

In Spring Boot, when dealing with complex configurations, you can use **embedded classes** inside a `@ConfigurationProperties` class. This is especially useful when your configuration properties have a nested structure, such as database settings, server configurations, etc. 

The provided images demonstrate how to define and use **complex configuration properties** with an embedded class and how Spring Boot generates metadata for those properties.

---

### **Code Explanation: Embedded Class**

The first image shows a **configuration properties class** named `ApplicationProperties` with an embedded static class `DatabaseProperties`. Here's the breakdown:

#### **Code Example**
```java
@Setter
@ConfigurationProperties("application") 
public class ApplicationProperties {
    
    private String name;
    private Integer version;
    private boolean productionMode;
    private DatabaseProperties database;

    @Getter
    @Setter
    public static class DatabaseProperties {
        private String username;
        private String password;
        private String url;
    }
}
```

#### **Key Points:**
1. **`@ConfigurationProperties("application")`:**  
   This tells Spring Boot to map properties with the prefix `application` from `application.properties` or `application.yml` files to this class.

2. **Nested Class (`DatabaseProperties`):**  
   - The `DatabaseProperties` class is a static inner class that represents nested configuration properties under the `database` key.  
   - It includes fields like `username`, `password`, and `url`.

3. **Lombok Annotations (`@Getter` and `@Setter`):**  
   These generate getter and setter methods automatically, reducing boilerplate code.

4. **Binding Example:**  
   If the `application.properties` file contains:
   ```properties
   application.name=MyApp
   application.version=1
   application.production-mode=true
   application.database.username=admin
   application.database.password=secret
   application.database.url=jdbc:mysql://localhost:3306/mydb
   ```
   The properties will be bound to the respective fields in the `ApplicationProperties` and `DatabaseProperties` classes.

---

### **Code Explanation: Metadata**

The second image shows the **metadata** generated by Spring Boot for the configuration properties. This metadata is used for tools like IDEs to provide auto-completion and validation for configuration properties.

#### **Metadata Example**
```json
{
  "name": "application.database.username",
  "type": "java.lang.String",
  "sourceType": "com.programmerzamannow.spring.config.properties.ApplicationProperties$DatabaseProperties"
},
{
  "name": "application.database.password",
  "type": "java.lang.String",
  "sourceType": "com.programmerzamannow.spring.config.properties.ApplicationProperties$DatabaseProperties"
},
{
  "name": "application.database.url",
  "type": "java.lang.String",
  "sourceType": "com.programmerzamannow.spring.config.properties.ApplicationProperties$DatabaseProperties"
}
```

#### **Key Points:**
1. **`name`:**  
   This indicates the full property name, such as `application.database.username`.

2. **`type`:**  
   This specifies the data type of the property (e.g., `java.lang.String`).

3. **`sourceType`:**  
   This indicates the class where the property is defined. For example, `ApplicationProperties$DatabaseProperties` refers to the `DatabaseProperties` inner class.

4. **Purpose of Metadata:**  
   - IDEs like IntelliJ IDEA or Eclipse can use this metadata to provide suggestions and validate property names in `application.properties` or `application.yml`.
   - Helps developers avoid typos or misconfigurations.

---

### **Advantages of Using Embedded Classes**

1. **Organized Structure:**  
   - Group related properties together (e.g., database-specific settings under `database`).

2. **Readability:**  
   - Makes the configuration file more intuitive and easier to understand.

3. **Type-Safe Binding:**  
   - Spring Boot ensures that the properties are bound to the correct types, reducing runtime errors.

4. **Metadata Generation:**  
   - Automatically generates metadata for nested properties, improving developer experience with IDE support.

---

### **How to Enable and Use It**

To use the `ApplicationProperties` class with the embedded `DatabaseProperties` class, follow these steps:

#### **Step 1: Enable Configuration Properties**
In your main application class, enable the configuration properties:

```java
@SpringBootApplication
@EnableConfigurationProperties(ApplicationProperties.class)
public class MyApp {
    public static void main(String[] args) {
        SpringApplication.run(MyApp.class, args);
    }
}
```

#### **Step 2: Add Configuration in `application.properties`**
Define the properties in your configuration file:

```properties
application.name=MyApp
application.version=1
application.production-mode=true
application.database.username=admin
application.database.password=secret
application.database.url=jdbc:mysql://localhost:3306/mydb
```

#### **Step 3: Inject and Use the Properties**
Inject `ApplicationProperties` into any Spring-managed bean:

```java
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class ConfigController {

    private final ApplicationProperties applicationProperties;

    public ConfigController(ApplicationProperties applicationProperties) {
        this.applicationProperties = applicationProperties;
    }

    @GetMapping("/config")
    public String getConfig() {
        return "App Name: " + applicationProperties.getName() +
               ", DB Username: " + applicationProperties.getDatabase().getUsername();
    }
}
```
